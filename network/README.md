## メモ

- igwとngwは違う
  - igw はvpcで作成されたネットワークとインターネットとの間で通信するためのもの
  - ngwはプライベートサブネットに作成されたリソースが、インターネット上にも流れるためのもの
    - インターネットからのアクセスは受け付けない。プライベートサブネット→インターネットの流れのみ（逆はない）
- igwをVPCにアタッチするコマンド
  - `aws ec2 attach-internet-gateway --vpc-id {vpc-id} --internet-gateway-id {igw-id} --region ap-northeast-1`
- NAT作成時に指定するサブネットは、パブリックサブネットを指定する
- サブネット間の通信経路を設定するためには、ルートテーブルを使う
  - パブリックサブネットの送信先はigw
  - プライベートサブネットの送信先はngw
  - サブネット間の通信経路設定なので、どのサブネットと関連したルートテーブルなのかを明示する必要がある
- セキュリティグループはvpc内のリソースを保護するためのもの
  - リソースごとに保護をかける
    - ポート番号かIPで制限をかけることができる
    - cf. ネットワークACL
      - サブネットに対して設定する（サブネットに含まれるリソース全てに対する保護をかける）
    - タイプ：接続を許可するポート番号 or プロトコルを指定する
    - ソース：外部からの接続を許可するIPアドレスを指定する。
      - 0.0.0.0/0 → 任意の場所からの接続を許可するという意味